---
services:
  netalertx:
    network_mode: host
    restart: unless-stopped
    read_only: true
    mem_limit: 2048m
    mem_reservation: 1024m
    cpu_shares: 512
    pids_limit: 512
    cap_drop:
      - ALL
    cap_add:
      - NET_RAW
      - NET_ADMIN
      - NET_BIND_SERVICE
    volumes:
      - type: bind
        source: ./netalertx/data
        target: /data
        read_only: false
      - type: tmpfs
        target: /app/api
      - type: bind
        source: /etc/localtime
        target: /etc/localtime
        read_only: true
    environment:
      - PUID=200
      - PGID=300
      - TZ={{ host_timezone }}
      - PORT=20211
    container_name: netalertx
    image: jokobsk/netalertx:25.11.29@sha256:fd1a4ca4bd4c0f38797b36b4ec5b0928d7add7b9add788d9cedb11fd25a42a65
    tmpfs:
      - "/tmp:uid=20211,gid=20211,mode=1700,rw,noexec,nosuid,nodev,async,noatime,nodiratime"
